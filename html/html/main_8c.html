<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The system does a basic processing of an analog signal. It reads the input voltage from an analog sensor, digitally filters the signal and outputs it.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;zephyr.h&gt;</code><br />
<code>#include &lt;device.h&gt;</code><br />
<code>#include &lt;drivers/gpio.h&gt;</code><br />
<code>#include &lt;drivers/adc.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;devicetree.h&gt;</code><br />
<code>#include &lt;sys/printk.h&gt;</code><br />
<code>#include &lt;sys/__assert.h&gt;</code><br />
<code>#include &lt;timing/timing.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;hal/nrf_saadc.h&gt;</code><br />
<code>#include &quot;<a class="el" href="_a_d_c_8h_source.html">ADC.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_filter_8h_source.html">Filter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_p_w_m_8h_source.html">PWM.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6423a880df59733d2d9b509c7718d3a9"><td class="memItemLeft" align="right" valign="top"><a id="a6423a880df59733d2d9b509c7718d3a9" name="a6423a880df59733d2d9b509c7718d3a9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>STACK_SIZE</b>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:a6423a880df59733d2d9b509c7718d3a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5936222e9802dbe8ceb1e99bd667466a"><td class="memItemLeft" align="right" valign="top"><a id="a5936222e9802dbe8ceb1e99bd667466a" name="a5936222e9802dbe8ceb1e99bd667466a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>thread_A_prio</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a5936222e9802dbe8ceb1e99bd667466a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9928aa4491a20c74a19c5904ba9530a"><td class="memItemLeft" align="right" valign="top"><a id="aa9928aa4491a20c74a19c5904ba9530a" name="aa9928aa4491a20c74a19c5904ba9530a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>thread_B_prio</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:aa9928aa4491a20c74a19c5904ba9530a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bd72aae8d0dd6e887547a1d5e0a8902"><td class="memItemLeft" align="right" valign="top"><a id="a1bd72aae8d0dd6e887547a1d5e0a8902" name="a1bd72aae8d0dd6e887547a1d5e0a8902"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>thread_C_prio</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a1bd72aae8d0dd6e887547a1d5e0a8902"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa25f5f9092ccf13998f3cb9e9e1d10a6"><td class="memItemLeft" align="right" valign="top"><a id="aa25f5f9092ccf13998f3cb9e9e1d10a6" name="aa25f5f9092ccf13998f3cb9e9e1d10a6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>K_THREAD_STACK_DEFINE</b> (thread_A_stack, STACK_SIZE)</td></tr>
<tr class="separator:aa25f5f9092ccf13998f3cb9e9e1d10a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8318aa1ed5939244957a68387085ddec"><td class="memItemLeft" align="right" valign="top"><a id="a8318aa1ed5939244957a68387085ddec" name="a8318aa1ed5939244957a68387085ddec"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>K_THREAD_STACK_DEFINE</b> (thread_B_stack, STACK_SIZE)</td></tr>
<tr class="separator:a8318aa1ed5939244957a68387085ddec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a331fd55d9b95c3e662a4148fbc522271"><td class="memItemLeft" align="right" valign="top"><a id="a331fd55d9b95c3e662a4148fbc522271" name="a331fd55d9b95c3e662a4148fbc522271"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>K_THREAD_STACK_DEFINE</b> (thread_C_stack, STACK_SIZE)</td></tr>
<tr class="separator:a331fd55d9b95c3e662a4148fbc522271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bae0ae425b2577868ad7c1482190439"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a2bae0ae425b2577868ad7c1482190439">thread_A_code</a> (void *, void *, void *)</td></tr>
<tr class="separator:a2bae0ae425b2577868ad7c1482190439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bc8db7d99935e559b1164cf2e84e822"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a0bc8db7d99935e559b1164cf2e84e822">thread_B_code</a> (void *, void *, void *)</td></tr>
<tr class="separator:a0bc8db7d99935e559b1164cf2e84e822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05a8f93095731e110abe668f996166c9"><td class="memItemLeft" align="right" valign="top"><a id="a05a8f93095731e110abe668f996166c9" name="a05a8f93095731e110abe668f996166c9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>thread_C_code</b> (void *, void *, void *)</td></tr>
<tr class="separator:a05a8f93095731e110abe668f996166c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6288eba0f8e8ad3ab1544ad731eb7667"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667">main</a> (void)</td></tr>
<tr class="separator:a6288eba0f8e8ad3ab1544ad731eb7667"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6d4412666e45fbd3d7bb2e537e3e4921"><td class="memItemLeft" align="right" valign="top"><a id="a6d4412666e45fbd3d7bb2e537e3e4921" name="a6d4412666e45fbd3d7bb2e537e3e4921"></a>
struct k_thread&#160;</td><td class="memItemRight" valign="bottom"><b>thread_A_data</b></td></tr>
<tr class="separator:a6d4412666e45fbd3d7bb2e537e3e4921"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad832c1a3de4a77b89216efc38eddcb72"><td class="memItemLeft" align="right" valign="top"><a id="ad832c1a3de4a77b89216efc38eddcb72" name="ad832c1a3de4a77b89216efc38eddcb72"></a>
struct k_thread&#160;</td><td class="memItemRight" valign="bottom"><b>thread_B_data</b></td></tr>
<tr class="separator:ad832c1a3de4a77b89216efc38eddcb72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9723f8aa3cfd56015ee57bc31879f8ec"><td class="memItemLeft" align="right" valign="top"><a id="a9723f8aa3cfd56015ee57bc31879f8ec" name="a9723f8aa3cfd56015ee57bc31879f8ec"></a>
struct k_thread&#160;</td><td class="memItemRight" valign="bottom"><b>thread_C_data</b></td></tr>
<tr class="separator:a9723f8aa3cfd56015ee57bc31879f8ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaac68d6bd12397c115c8f5fb8b8dae16"><td class="memItemLeft" align="right" valign="top"><a id="aaac68d6bd12397c115c8f5fb8b8dae16" name="aaac68d6bd12397c115c8f5fb8b8dae16"></a>
k_tid_t&#160;</td><td class="memItemRight" valign="bottom"><b>thread_A_tid</b></td></tr>
<tr class="separator:aaac68d6bd12397c115c8f5fb8b8dae16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2bd9deb85bd5ac0cdf3a0b077411289"><td class="memItemLeft" align="right" valign="top"><a id="af2bd9deb85bd5ac0cdf3a0b077411289" name="af2bd9deb85bd5ac0cdf3a0b077411289"></a>
k_tid_t&#160;</td><td class="memItemRight" valign="bottom"><b>thread_B_tid</b></td></tr>
<tr class="separator:af2bd9deb85bd5ac0cdf3a0b077411289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e9a231be3f7d1a28871ddfdf5ca8fe3"><td class="memItemLeft" align="right" valign="top"><a id="a3e9a231be3f7d1a28871ddfdf5ca8fe3" name="a3e9a231be3f7d1a28871ddfdf5ca8fe3"></a>
k_tid_t&#160;</td><td class="memItemRight" valign="bottom"><b>thread_C_tid</b></td></tr>
<tr class="separator:a3e9a231be3f7d1a28871ddfdf5ca8fe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a765c9457bf0544d4ee26a355ff1116e3"><td class="memItemLeft" align="right" valign="top"><a id="a765c9457bf0544d4ee26a355ff1116e3" name="a765c9457bf0544d4ee26a355ff1116e3"></a>
struct k_fifo&#160;</td><td class="memItemRight" valign="bottom"><b>fifo_ab</b></td></tr>
<tr class="separator:a765c9457bf0544d4ee26a355ff1116e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8984bc4afe8a3abec87f1dc0520292b"><td class="memItemLeft" align="right" valign="top"><a id="ae8984bc4afe8a3abec87f1dc0520292b" name="ae8984bc4afe8a3abec87f1dc0520292b"></a>
struct k_fifo&#160;</td><td class="memItemRight" valign="bottom"><b>fifo_bc</b></td></tr>
<tr class="separator:ae8984bc4afe8a3abec87f1dc0520292b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >The system does a basic processing of an analog signal. It reads the input voltage from an analog sensor, digitally filters the signal and outputs it. </p>
<p >The system toogles the duty cycle os the pwm signal that is connected to the LED1(output) in function of the concurrent voltage os the potenciometer(input). The information is shared between the treads using FIFOS</p>
<dl class="section author"><dt>Author</dt><dd>Goncalo Moniz, Joao Oliveira, Diogo Leao </dd></dl>
<dl class="section date"><dt>Date</dt><dd>31-5-2022 </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000003">Bug:</a></b></dt><dd>There are no bugs </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a6288eba0f8e8ad3ab1544ad731eb7667" name="a6288eba0f8e8ad3ab1544ad731eb7667"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6288eba0f8e8ad3ab1544ad731eb7667">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >brief Main function</p>
<p >Inicialization of Semaphores and Threads</p>
<dl class="section author"><dt>Author</dt><dd>Goncalo Moniz, Joao Oliveira, Diogo Leao </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">void</td><td>void </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section date"><dt>Date</dt><dd>31-5-2022 </dd></dl>

</div>
</div>
<a id="a2bae0ae425b2577868ad7c1482190439" name="a2bae0ae425b2577868ad7c1482190439"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bae0ae425b2577868ad7c1482190439">&#9670;&nbsp;</a></span>thread_A_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_A_code </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Thread A</p>
<p >Thread for the ADC </p><dl class="section author"><dt>Author</dt><dd>Goncalo Moniz, Joao Oliveira, Diogo Leao </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">void</td><td>void </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section date"><dt>Date</dt><dd>31-5-2022 </dd></dl>

</div>
</div>
<a id="a0bc8db7d99935e559b1164cf2e84e822" name="a0bc8db7d99935e559b1164cf2e84e822"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bc8db7d99935e559b1164cf2e84e822">&#9670;&nbsp;</a></span>thread_B_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_B_code </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Thread B</p>
<p >Thread for the Filter </p><dl class="section author"><dt>Author</dt><dd>Goncalo Moniz, Joao Oliveira, Diogo Leao </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">void</td><td>void </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section date"><dt>Date</dt><dd>31-5-2022 </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
